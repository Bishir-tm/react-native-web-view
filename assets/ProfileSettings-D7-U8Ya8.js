import{u as c,a as g,r as d,ab as h,j as e,ac as j,q as r,a5 as b}from"./index-DQeOCy18.js";import{T as N}from"./TitleCard-BVJXsrCz.js";function v(){const t=c(),{user:s,loading:l,error:m}=g(a=>a.auth),[i,n]=d.useState({fullname:"",email:""});d.useEffect(()=>{s?n({fullname:s.fullname||"",email:s.email||""}):t(h())},[t,s]);const o=a=>{const{name:f,value:p}=a.target;n(x=>({...x,[f]:p}))},u=async()=>{try{const a=await t(j(i));a.meta.requestStatus==="fulfilled"?(t(r({message:"Profile Updated",status:1})),n({fullname:a.payload.fullname,email:a.payload.email})):t(r({message:a.payload||"Profile Update Failed",status:0}))}catch(a){t(r({message:a.message||"An unexpected error occurred",status:0}))}};return e.jsxs(N,{title:"Profile Settings",topMargin:"mt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullname",value:i.fullname,onChange:o,className:"input input-bordered w-full",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:i.email,onChange:o,className:"input input-bordered w-full",disabled:l})]}),e.jsx("div",{className:"divider"})]}),e.jsx("div",{className:"mt-16",children:e.jsx("button",{className:"btn btn-primary float-right",onClick:u,disabled:l,children:l?"Updating...":"Update"})}),m&&e.jsx("div",{className:"mt-4 text-red-500 text-sm",children:e.jsx("p",{children:m})})]})}function U(){const t=c();return d.useEffect(()=>{t(b({title:"Settings"}))},[]),e.jsx(v,{})}export{U as default};
