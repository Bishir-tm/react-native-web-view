import{u as x,a as l,r as n,y as j,j as e,S as N,aa as r,M as d,a5 as u}from"./index-DQeOCy18.js";import{T as f}from"./TitleCard-BVJXsrCz.js";import{M as m,C as y,b as g}from"./Layout-dtLEbaUA.js";import{F as C,a as w}from"./TrashIcon-DZgiwp0v.js";import{F as T}from"./ArrowPathIcon-B5x0kA_q.js";import{S as E}from"./SearchBar-YkfVzCuZ.js";import"./ErrorText-C3VDSOUb.js";import"./EyeIcon-CIkAS62p.js";const S=({searchQuery:t,setSearchQuery:o})=>{const a=x(),c=()=>{a(d({title:"Add New CategoryItem",bodyType:m.ADD_NEW_CATEGORY,size:"xl"}))};return e.jsxs("div",{className:"flex justify-between w-100 space-x-3",children:[e.jsx(E,{searchText:t,setSearchText:o,placeholderText:"Search categories...",styleClass:""}),(r("admin")||r("manager"))&&e.jsxs("button",{onClick:c,className:"btn btn-primary",children:[e.jsx(g,{className:"w-6 h-6"})," Add New Category"]}),e.jsxs("button",{onClick:()=>location.reload(),className:"btn btn-primary",children:[e.jsx(T,{className:"w-6 h-6"})," Reload"]})]})},A=()=>{const t=x(),o=l(s=>s.categories.categories||[]),a=l(s=>s.categories.status),c=l(s=>s.categories.error),[h,p]=n.useState("");if(n.useEffect(()=>{a==="idle"&&t(j())},[t,a]),a==="loading")return e.jsx(N,{});const b=o.filter(s=>Object.values(s).some(i=>String(i).toLowerCase().includes(h.toLowerCase()))).map((s,i)=>e.jsxs("tr",{className:"border-spacing-x-3 border-collapse",children:[e.jsx("td",{className:"border",children:i+1}),e.jsx("td",{className:"border",children:s.name}),e.jsx("td",{className:"border",children:s.description||"N/A"}),(r("admin")||r("manager"))&&e.jsx("td",{className:"border",children:e.jsx("button",{className:"btn btn-sm text-white bg-primary min-w-[70px]",onClick:()=>t(d({title:"Edit Category",bodyType:m.EDIT_CATEGORY,extraObject:s})),children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:block",children:"Edit"})]})})}),r("admin")&&e.jsx("td",{className:"border-2",children:e.jsx("button",{className:"btn btn-sm text-white btn-error min-w-[70px]",onClick:()=>t(d({title:"Delete Category ?",bodyType:m.CONFIRMATION,extraObject:{message:`Are you sure you want to delete the ${s.name} category ?`,type:y.DELETE_CATEGORY,id:s._id}})),children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:block",children:"Delete"})]})})})]},s._id));return e.jsx(f,{title:"All Categories",TopSideButtons:e.jsx(S,{searchQuery:h,setSearchQuery:p}),topMargin:"mt-2",children:e.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[500px] w-full",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{className:"bg-base-100 border-b-4 text-md sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border sticky top-0 z-20",children:"#"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Name"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Description"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Edit"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Delete"})]})}),e.jsx("tbody",{children:o.length>0?b:c?c.message:e.jsx("tr",{children:e.jsx("td",{colSpan:"3",className:"text-center",children:"No categories found."})})})]})})})};function L(){const t=x();return n.useEffect(()=>{t(u({title:"Product Category"}))},[]),e.jsx(A,{})}export{L as default};
