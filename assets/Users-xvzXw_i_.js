import{u as d,a as l,r as o,aj as h,j as e,S as j,M as n,aa as m,a5 as b}from"./index-DQeOCy18.js";import{T as p}from"./TitleCard-BVJXsrCz.js";import{M as c,C as N,b as u}from"./Layout-dtLEbaUA.js";import{F as f,a as w}from"./TrashIcon-DZgiwp0v.js";import{F as y}from"./ArrowPathIcon-B5x0kA_q.js";import"./ErrorText-C3VDSOUb.js";import"./EyeIcon-CIkAS62p.js";const E=()=>{const t=d(),a=()=>{t(n({title:"Add New User",bodyType:c.ADD_NEW_USER,size:"xl"}))};return e.jsx("div",{className:"flex justify-between w-100 space-x-3",children:m("admin")&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:a,className:"btn btn-primary",children:[e.jsx(u,{className:"w-6 h-6"})," Add New User"]}),e.jsxs("button",{onClick:()=>location.reload(),className:"btn btn-primary",children:[e.jsx(y,{className:"w-6 h-6"})," Reload"]})]})})},g=()=>{const t=d(),a=l(s=>s.users.users||[]),r=l(s=>s.users.status),i=l(s=>s.users.error);if(o.useEffect(()=>{r==="idle"&&t(h())},[t,r]),r==="loading")return e.jsx(j,{});const x=a.map(s=>e.jsxs("tr",{className:"border-spacing-x-3 border-collapse",children:[e.jsx("td",{className:"border-2",children:s.fullname}),e.jsx("td",{className:"border-2",children:s.email}),e.jsx("td",{className:"border-2",children:e.jsx("span",{className:`capitalize badge ${s.role==="admin"?"badge-primary":s.role==="manager"?"badge-secondary":"badge-accent"}`,children:s.role})}),e.jsx("td",{className:"border-2",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx("td",{className:"border-2",children:e.jsx("button",{className:"btn btn-sm text-white bg-primary min-w-[70px]",onClick:()=>t(n({title:"Edit User",bodyType:c.EDIT_USER,extraObject:s,size:"xl"})),children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(f,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:block",children:"Edit"})]})})}),e.jsx("td",{className:"border-2",children:e.jsx("button",{className:"btn btn-sm text-white btn-error min-w-[70px]",onClick:()=>t(n({title:"Delete User?",bodyType:c.CONFIRMATION,extraObject:{message:`Are you sure you want to delete the user "${s.fullname}"?`,type:N.DELETE_USER,id:s._id}})),children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:block",children:"Delete"})]})})})]},s._id));return e.jsx(p,{title:"All Users",TopSideButtons:e.jsx(E,{}),topMargin:"mt-2",children:m("admin")?e.jsx("div",{className:"overflow-x-auto w-full",children:e.jsxs("table",{className:"table table-zebra w-full table-pin-rows",children:[e.jsx("thead",{className:"border-b-4 border-primary text-md",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Full Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Role"}),e.jsx("th",{children:"Created At"}),e.jsx("th",{children:"Edit"}),e.jsx("th",{children:"Delete"})]})}),e.jsx("tbody",{children:a.length>0?x:i?i.message:e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center",children:"No users found."})})})]})}):e.jsx("div",{className:"text-center text-error font-bold text-2xl",children:"Access Denied, You are not an Admin"})})};function _(){const t=d();return o.useEffect(()=>{t(b({title:"Users"}))},[]),e.jsx(g,{})}export{_ as default};
