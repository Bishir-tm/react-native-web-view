import{u as m,a as d,r as o,G as b,j as e,S as j,aa as a,M as n,a5 as N}from"./index-DQeOCy18.js";import{T as f}from"./TitleCard-BVJXsrCz.js";import{M as p,C as S,b as y}from"./Layout-dtLEbaUA.js";import{F as w,a as E}from"./TrashIcon-DZgiwp0v.js";import{F as T}from"./ArrowPathIcon-B5x0kA_q.js";import{S as k}from"./SearchBar-YkfVzCuZ.js";import"./ErrorText-C3VDSOUb.js";import"./EyeIcon-CIkAS62p.js";const g=({searchQuery:t,setSearchQuery:l})=>{const r=m(),c=()=>{r(n({title:"Add New Supplier",bodyType:p.ADD_NEW_SUPPLIER,size:"xl"}))};return e.jsxs("div",{className:"flex justify-between w-100 space-x-3",children:[e.jsx(k,{searchText:t,setSearchText:l,placeholderText:"Search Suppliers...",styleClass:""}),(a("admin")||a("manager"))&&e.jsxs("button",{onClick:c,className:"btn btn-primary",children:[e.jsx(y,{className:"w-6 h-6"})," Add New Supplier"]}),e.jsxs("button",{onClick:()=>location.reload(),className:"btn btn-primary",children:[e.jsx(T,{className:"w-6 h-6"})," Reload"]})]})},C=()=>{const t=m(),l=d(s=>s.suppliers.suppliers||[]),r=d(s=>s.suppliers.status),c=d(s=>s.suppliers.error),[x,h]=o.useState("");if(o.useEffect(()=>{r==="idle"&&t(b())},[t,r]),r==="loading")return e.jsx(j,{});const u=l.filter(s=>Object.values(s).some(i=>String(i).toLowerCase().includes(x.toLowerCase()))).map((s,i)=>e.jsxs("tr",{className:"border-spacing-x-3 border-collapse",children:[e.jsx("td",{className:"border",children:i+1}),e.jsx("td",{className:"border",children:s.name}),e.jsx("td",{className:"border",children:s.phone}),e.jsx("td",{className:"border",children:s.email}),e.jsx("td",{className:"border",children:s.address}),(a("admin")||a("manager"))&&e.jsx("td",{className:"border",children:e.jsx("button",{className:"btn btn-sm text-white bg-primary min-w-[70px]",onClick:()=>t(n({title:"Edit Supplier",bodyType:p.EDIT_SUPPLIER,extraObject:s,size:"xl"})),children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(w,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:block",children:"Edit"})]})})}),a("admin")&&e.jsx("td",{className:"border",children:e.jsx("button",{className:"btn btn-sm text-white btn-error min-w-[70px]",onClick:()=>t(n({title:"Delete Supplier ?",bodyType:p.CONFIRMATION,extraObject:{message:`Are you sure you want to delete the supplier  "${s.name}"  ?`,type:S.DELETE_SUPPLIER,id:s._id}})),children:e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[e.jsx(E,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden md:block",children:"Delete"})]})})})]},s._id));return e.jsx(f,{title:"All Suppliers",TopSideButtons:e.jsx(g,{searchQuery:x,setSearchQuery:h}),topMargin:"mt-2",children:e.jsx("div",{className:"overflow-x-auto overflow-y-auto max-h-[500px] w-full",children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{className:"bg-base-100 border-b-4 text-md sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"border sticky top-0 z-20",children:"#"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Name"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Phone"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Email"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Address"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Edit"}),e.jsx("th",{className:"border sticky top-0 z-20",children:"Delete"})]})}),e.jsx("tbody",{children:l.length>0?u:c?c.message:e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center",children:"No suppliers found."})})})]})})})};function F(){const t=m();return o.useEffect(()=>{t(N({title:"Suppliers"}))},[]),e.jsx(C,{})}export{F as default};
